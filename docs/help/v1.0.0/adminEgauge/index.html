<!DOCTYPE html>
<html lang="en">

<head>
	<title>OED eGauge help</title>
	<!-- link to main stylesheet -->
	<link rel="stylesheet" type="text/css" href="../../css/main.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico">
</head>

<body>
	<div class="navbar">
		<a href="../../index.html"> <img id="logo" alt="OED logo" src="../../images/logo.png"></a>
		<a href="../../index.html">OED Website</a>
		<a href="index.html">help: </a>
		<a href="admin.html">Admin help:</a>
		<div class="dropdown">
			<button class="dropbtn">Conversions &#x25BC;</button>
			<div class="dropdown-content">
				<a href="adminConversionCreating.html">Creating Conversions</a>
				<a href="adminConversionEditing.html">Editing Conversions</a>
				<a href="adminConversionViewing.html">Viewing Conversions</a>
			</div>
		</div>
		<div class="dropdown">
			<button class="dropbtn">Groups &#x25BC;</button>
			<div class="dropdown-content">
				<a href="adminGroupCreating.html">Creating groups</a>
				<a href="adminGroupEditing.html">Editing groups</a>
				<a href="adminGroupViewing.html">Viewing groups</a>
			</div>
		</div>
		<div class="dropdown">
			<button class="dropbtn">Maps &#x25BC;</button>
			<div class="dropdown-content">
				<a href="adminMapCreating.html">Creating Maps</a>
				<a href="adminMapViewing.html">Viewing/editing Maps</a>
			</div>
		</div>
		<div class="dropdown">
			<button class="dropbtn">Meters &#x25BC;</button>
			<div class="dropdown-content">
				<a href="adminMeterCreating.html">Creating meters</a>
				<a href="adminMeterEditing.html">Editing meters</a>
				<a href="adminMeterViewing.html">Viewing meters</a>
			</div>
		</div>
		<div class="dropdown">
			<button class="dropbtn">Other &#x25BC;</button>
			<div class="dropdown-content">
				<a href="adminDataAcquisition.html">Data Acquisition</a>
				<a href="adminPreferences.html">Preferences</a>
				<a href="adminInstallation.html">Site Installation</a>
				<a href="adminOedUnits.html">Standard OED units and conversions</a>
				<a href="adminUser.html">Users</a>
				<a href="adminUnitInfo.html">Units and conversions setup/info</a>
			</div>
		</div>
		<div class="dropdown">
			<button class="dropbtn">Units &#x25BC;</button>
			<div class="dropdown-content">
				<a href="adminUnitCreating.html">Creating units</a>
				<a href="adminUnitEditing.html">Editing units</a>
				<a href="adminUnitViewing.html">Viewing units</a>
			</div>
		</div>
		<div class="dropdown">
			<button class="dropbtn">Help versions &#x25BC;</button>
			<div class="dropdown-content">
				<a href="../v1.0.0/adminEgauge.html">OED version 1.0.0 Help</a>
				<a href="../v0.8.0/adminEgauge.html">OED version 0.8.0 Help</a>
				<a href="../v0.7.0/adminEgauge.html">OED version 0.7.0 Help</a>
				<a href="../v0.6.0/adminEgauge.html">OED version 0.6.0 Help</a>
			</div>
		</div>
	</div>
	
	<div class="container"><div>
	<!-- Add version info at top of page. Would be nice if could put in layout but then relative link does not work. -->
	<p>The info on this page is for OED version 1.0.0. See "Help versions" menu at top of page for other versions.</p>

	<!-- Page content -->
	<h1>Admin eGauge (Help)</h1>
	<p>Note: These features are only available to select people who oversee the OED site (called admins) so these
    features are not usually of interest to a general user. </p>


	<h2 id="overview">Overview</h2>
	<p>This page describes how to add eGauge meters to OED so they will be read regularly.</p>

	<h2 id="usage">Usage</h2>
	<p>One needs the following information about the eGauge meter:</p>
	<ul>
		<li>IP address of the desired eGauge meter that is the location address where the meter can be
			reached. One should be able to go to this address in a web browser and see the landing page for the
			meter.
			For this example the IP address of 111.22.33.1 will be used. One may well have a named address,
			e.g., egauge99.mydomain.org, instead of an IP address for the meter and that is fine to use.</li>
		<li>One needs the Username and Password that allows Access Control to the data for this meter. If
			you are already logged in to the meter you can find all the logins on the Settings tab under Access
			Control on
			the eGauge web page. For this example the Username is myuser and the
			password is mypassword.</li>
		<li>One needs the register that is going to be accessed on the eGauge meter to provide data. This is
			located under the Settings tab, Preferences to get to the Preferences Editor page. They should be
			located next to the label "List of registers to display in graph by default". For this example the
			register will be
			called myregister.</li>
	</ul>
	<p>Either by <a href="adminMeterCreating.html">admin meters creation web page</a> or via a <a
			href="adminMetersImport.html">CSV meter upload</a>, add a new meter that has the following attributes:</p>
	<ol>
		<li>Set the meter URL. For this example would be:<br>
			111.22.33.1/api?registerName=myregister&username=myuser&password=mypassword<br>
			where one would replace the four values discussed above with the ones specific for the eGauge meter
			of interest.</li>
		<li>Set the meter Type to "EGAUGE" (without quotes).</li>
		<li>Set update to yes if you want OED to regularly get this meter data.</li>
		<li>Set Displayable, Unit and Default Graphic Unit to the needed/desired values.</li>
		<li>The Reading Frequency can default to 00:15:00 for 15 minutes as that is the frequency that OED acquires data
			from eGauge meters. If you are interested in a different frequency then please contact us.</li>
		<li>The other meter values are standard ones that you want for this meter and can be left as the default values
			if desired.
		</li>
	</ol>
	<p>Set up the hourly cron job to update eGauge meters' data on OED if update is yes and you want eGauge meters to
		update. This only needs to be done once on the server,
		generally by an IT person. This mirrors similar steps in the <a href="adminInstallation.html">site installation
			directions</a>.</p>
	<ol>
		<li><code>cp src/scripts/updateEgaugeMetersOEDCron.bash /etc/cron.hourly/updateEgaugeMetersOEDCron.bash</code>
		</li>
		<li>Edit /etc/cron.hourly/updateGaugeMetersOEDCron.bash to make the necessary modifications to
			the
			script. See the script for more detail.</li>
		<li>Do: <code>chmod +x /etc/cron.hourly/updateEgaugeMetersOEDCron.bash</code> to make the script
			executable.</li>
		<li>If you want to immediately run the update on meters without waiting for the hourly script
			one does: <code>docker compose exec web npm run updateEgaugeMeters</code></li>
		<li>Note that you will not be able to graph the newly acquired meter data until the daily
			aggregation (described on the installation page linked above) is run or you manually refresh the
			readings by doing:
			<code>docker compose exec web npm run refreshAllReadingViews</code>
		</li>
	</ol>

	<h2 id="details">Details</h2>
	<p>None at this time.</p>
</div>
</div>
	<footer>
		<div class="navbar">
			<a href="mailto:help@OpenEnergyDashboard.org">Email OED Help or comments on these
				pages</a>
			<a href="https://github.com/OpenEnergyDashboard/OED" target="_blank" rel="noopener noreferrer">GitHub
				Repository</a>
		</div>
		<p>This page is part of the Open Energy Dashboard and is subject to the terms of the Mozilla Public
			License,
			v. 2.0. If a copy of the MPL was not distributed with this file, you can obtain one at <a
				href="https://www.mozilla.org/en-US/MPL/2.0/" rel="nofollow">https://www.mozilla.org/en-US/MPL/2.0/</a>.
		</p>
	</footer>
</body>

</html>
